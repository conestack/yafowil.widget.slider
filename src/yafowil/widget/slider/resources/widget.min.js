!function(e,s){"use strict";class i{static initialize(e){s(".yafowil_slider",e).each((function(){new i(s(this))}))}constructor(e){this.elem=e,this.options=this.elem.data(),this.bind_options(),this.slider_handle_dim=20,this.input=s("input.slider_value",this.elem),this.slider_elem=s("div.slider",this.elem);let i=this.slider_handle_elem=s(`\n            <div class="slider-handle" \n                 style="width:${this.slider_handle_dim}px;\n                        height:${this.slider_handle_dim}px"/>\n        `),t=this.slider_value_track=s('\n            <div class="slider-value-track" />\n        '),l=s('\n            <div class="slider-bg" />\n        ');if(this.slider_elem.append(l).append(t).append(i),this.handle_mousedown=this.handle_mousedown.bind(this),this.handle_drag=this.handle_drag.bind(this),1==this.options.range){let e=this.slider_handle_elem_end=s(`\n                <div class="slider-handle-end"\n                     style="width:${this.slider_handle_dim}px;\n                            height:${this.slider_handle_dim}px"/>\n            `);this.slider_elem.append(e),this.handle_drag_range=this.handle_drag_range.bind(this),this.slider_handle_elem.on("mousedown",this.handle_drag_range),this.slider_handle_elem_end.on("mousedown",this.handle_drag_range)}else this.slider_handle_elem.off("mousedown").on("mousedown",this.handle_mousedown);this.init_position()}bind_options(){let e={};!0===this.options.range?(e.lower_display=s("span.lower_value",this.elem),e.upper_display=s("span.upper_value",this.elem),e.lower_value=s("input.lower_value",this.elem),e.upper_value=s("input.upper_value",this.elem),this.options.values=[e.lower_value.val(),e.upper_value.val()]):(e.display=s("span.slider_value",this.elem),e.value=s("input.slider_value",this.elem),this.options.value=e.value.val()),this.elem.data("slider_elements",e)}init_position(){if(this.options.min||this.options.max||(this.options.min=0,this.options.max=100),"vertical"===this.options.orientation?(this.slider_elem.addClass("slider-vertical"),this.slider_dim=this.slider_elem.height(),this.offset=this.slider_elem.offset().top):(this.slider_dim=this.elem.width(),this.offset=this.elem.offset().left),!0===this.options.range){let e=this.options.values[0],s=this.options.values[1],i=[this.transform_to_display(e),this.transform_to_display(s)];this.set_position(i)}else if(this.options.value){let e=this.options.value,s=this.transform_to_display(e);this.set_position(s)}"max"===this.options.range&&("vertical"===this.options.orientation?this.slider_value_track.css("bottom",0).css("top","unset"):this.slider_value_track.css("right",0))}handle_mousedown(e){e.preventDefault(),this.elem.off("mousemove").on("mousemove",this.handle_drag)}handle_drag(e){let i;e.preventDefault(),e.stopPropagation(),i="vertical"===this.options.orientation?e.pageY:e.pageX;let t=this.prevent_overflow(i-this.offset),l=this.transform_to_range(t);this.options.step&&(l=this.transform_to_step_value(l),t=this.transform_to_display(l)),this.set_position(t),s("span.slider_value",this.elem).text(l),s(window).on("mouseup",(()=>{this.elem.off("mousemove")}))}handle_drag_range(e){e.preventDefault(),e.stopPropagation();let i=s(e.target);s(this.elem).off("mousemove").on("mousemove",(e=>{e.preventDefault(),e.stopPropagation();let t,l=[];"vertical"===this.options.orientation?(l[0]=parseInt(this.slider_handle_elem.css("top")),l[1]=parseInt(this.slider_handle_elem_end.css("top")),t=e.pageY):(l[0]=parseInt(this.slider_handle_elem.css("left")),l[1]=parseInt(this.slider_handle_elem_end.css("left")),t=e.pageX);let n=this.prevent_overflow(t-this.offset);n=parseInt(n);let o=this.transform_to_range(n),a=i.attr("class");"slider-handle"===a?(l[0]=n,s(".lower_value").text(o)):"slider-handle-end"===a&&(l[1]=n,s(".upper_value").text(o)),this.set_position(l)})),s(window).on("mouseup",(()=>{this.elem.off("mousemove")}))}prevent_overflow(e){return e>=this.slider_dim?e=this.slider_dim:e<=0&&(e=0),e}set_position(e){let s=this.options.orientation,i=this.options.range;if("vertical"===s)if("max"===i)this.slider_value_track.css("height",this.slider_dim-e),this.slider_handle_elem.css("top",e+"px");else if(!0===i){this.slider_handle_elem.css("top",e[0]),this.slider_handle_elem_end.css("top",e[1]);let s=e[1]-e[0];this.slider_value_track.css("height",s+"px").css("top",e[0]+"px")}else this.slider_value_track.css("height",e),this.slider_handle_elem.css("top",e+"px");else if("max"===i)this.slider_value_track.css("width",this.slider_dim-e),this.slider_handle_elem.css("left",e+"px");else if(!0===i){this.slider_handle_elem.css("left",e[0]),this.slider_handle_elem_end.css("left",e[1]);let s=e[1]-e[0];this.slider_value_track.css("width",s+"px").css("left",e[0]+"px")}else this.slider_value_track.css("width",e),this.slider_handle_elem.css("left",e+"px")}transform_to_step_value(e){let s=this.options.step,i=this.options.max;return e=e>=i-s/2?i:s*parseInt(e/s)}transform_to_display(e){let s=this.slider_dim*((e-this.options.min)/(this.options.max-this.options.min));return s=parseInt(s),s}transform_to_range(e){let s=(this.options.max-this.options.min)*(e/this.slider_dim)+this.options.min;return s=parseInt(s),s}}s((function(){void 0!==window.ts?ts.ajax.register(i.initialize,!0):i.initialize()})),e.Slider=i,Object.defineProperty(e,"__esModule",{value:!0}),void 0===window.yafowil&&(window.yafowil={}),window.yafowil.slider=e}({},jQuery);
